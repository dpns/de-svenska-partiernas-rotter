!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";"function"==typeof define&&define.amd&&(t=window);const e={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},n=function(){let t={},e=!1,r=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);let s=function(r){for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=n(!0,t[o],r[o]):t[o]=r[o])};for(;r<o;r++)s(arguments[r]);return t};function r(t,r){this.settings=n(e,r||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}if(r.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,n={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver(function(t){Array.prototype.forEach.call(t,function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let n=t.target.getAttribute(e.settings.src),r=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(n&&(t.target.src=n),r&&(t.target.srcset=r)):t.target.style.backgroundImage="url("+n+")"}})},n),Array.prototype.forEach.call(this.images,function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,function(e){let n=e.getAttribute(t.settings.src),r=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(n&&(e.src=n),r&&(e.srcset=r)):e.style.backgroundImage="url('"+n+"')"})},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,e){return new r(t,e)},t.jQuery){const e=t.jQuery;e.fn.lazyload=function(t){return(t=t||{}).attribute=t.attribute||"data-src",new r(e.makeArray(this),t),this}}return r}),document.addEventListener("DOMContentLoaded",function(){var t;if("IntersectionObserver"in window){t=document.querySelectorAll(".lazy");var e=new IntersectionObserver(function(t,n){t.forEach(function(t){if(t.isIntersecting){var n=t.target;n.classList.remove("lazy"),e.unobserve(n)}})});t.forEach(function(t){e.observe(t)})}else{var n;function r(){n&&clearTimeout(n),n=setTimeout(function(){var e=window.pageYOffset;t.forEach(function(t){t.offsetTop<window.innerHeight+e&&(t.src=t.dataset.src,t.classList.remove("lazy"))}),0==t.length&&(document.removeEventListener("scroll",r),window.removeEventListener("resize",r),window.removeEventListener("orientationChange",r))},20)}t=document.querySelectorAll(".lazy"),document.addEventListener("scroll",r),window.addEventListener("resize",r),window.addEventListener("orientationChange",r)}});